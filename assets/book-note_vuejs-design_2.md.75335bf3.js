import{_ as s,o as a,c as n,a as l}from"./app.eb0cb785.js";const F=JSON.parse('{"title":"\u7B2C\u4E8C\u7AE0\uFF1A\u6846\u67B6\u8BBE\u8BA1\u7684\u6838\u5FC3\u8981\u7D20","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u63D0\u5347\u5F00\u53D1\u4F53\u9A8C","slug":"\u63D0\u5347\u5F00\u53D1\u4F53\u9A8C","link":"#\u63D0\u5347\u5F00\u53D1\u4F53\u9A8C","children":[]},{"level":2,"title":"\u63A7\u5236\u6846\u67B6\u4EE3\u7801\u4F53\u79EF","slug":"\u63A7\u5236\u6846\u67B6\u4EE3\u7801\u4F53\u79EF","link":"#\u63A7\u5236\u6846\u67B6\u4EE3\u7801\u4F53\u79EF","children":[]},{"level":2,"title":"\u826F\u597D\u7684 Tree-Shaking","slug":"\u826F\u597D\u7684-tree-shaking","link":"#\u826F\u597D\u7684-tree-shaking","children":[]},{"level":2,"title":"\u8F93\u51FA\u7684\u6784\u5EFA\u4EA7\u7269","slug":"\u8F93\u51FA\u7684\u6784\u5EFA\u4EA7\u7269","link":"#\u8F93\u51FA\u7684\u6784\u5EFA\u4EA7\u7269","children":[]},{"level":2,"title":"\u7279\u6027\u5F00\u5173","slug":"\u7279\u6027\u5F00\u5173","link":"#\u7279\u6027\u5F00\u5173","children":[]},{"level":2,"title":"\u9519\u8BEF\u5904\u7406","slug":"\u9519\u8BEF\u5904\u7406","link":"#\u9519\u8BEF\u5904\u7406","children":[]},{"level":2,"title":"\u826F\u597D\u7684 TS \u652F\u6301","slug":"\u826F\u597D\u7684-ts-\u652F\u6301","link":"#\u826F\u597D\u7684-ts-\u652F\u6301","children":[]}],"relativePath":"book-note/vuejs-design/2.md"}'),e={name:"book-note/vuejs-design/2.md"},o=l(`<h1 id="\u7B2C\u4E8C\u7AE0\uFF1A\u6846\u67B6\u8BBE\u8BA1\u7684\u6838\u5FC3\u8981\u7D20" tabindex="-1">\u7B2C\u4E8C\u7AE0\uFF1A\u6846\u67B6\u8BBE\u8BA1\u7684\u6838\u5FC3\u8981\u7D20 <a class="header-anchor" href="#\u7B2C\u4E8C\u7AE0\uFF1A\u6846\u67B6\u8BBE\u8BA1\u7684\u6838\u5FC3\u8981\u7D20" aria-hidden="true">#</a></h1><h2 id="\u63D0\u5347\u5F00\u53D1\u4F53\u9A8C" tabindex="-1">\u63D0\u5347\u5F00\u53D1\u4F53\u9A8C <a class="header-anchor" href="#\u63D0\u5347\u5F00\u53D1\u4F53\u9A8C" aria-hidden="true">#</a></h2><blockquote><p>\u4E00\u4E2A\u4F18\u79C0\u7684\u6846\u67B6\u8861\u91CF\u6307\u6807\u4E4B\u4E00\u5C31\u662F\u770B\u4ED6\u7684\u5F00\u53D1\u4F53\u9A8C</p></blockquote><ol><li>Vue \u901A\u8FC7 warn \u51FD\u6570\u63D0\u4F9B\u4E86\u53CB\u597D\u7684\u8B66\u544A\u4FE1\u606F\uFF0C\u5E2E\u52A9\u7528\u6237\u5B9A\u4F4D\u95EE\u9898\u3002</li><li>\u5728\u6253\u5370\u6570\u636E\u65F6\uFF0C\u5C24\u5176\u662F\u54CD\u5E94\u5F0F\u6570\u636E\uFF0C\u975E\u5E38\u7684\u4E0D\u76F4\u89C2\uFF0CVue \u901A\u8FC7 initCustomFormatter \u51FD\u6570\u81EA\u5B9A\u4E49\u4E86\u63A7\u5236\u53F0\u8F93\u51FA\u3002</li></ol><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Chrome \u4E0B\u52FE\u9009 Console \u91CC\u7684 <code>Enable custom formatters</code> \u9009\u9879\uFF0C\u5C31\u53EF\u4EE5\u770B\u5230\u66F4\u76F4\u89C2\u7684\u6253\u5370\u3002</p></div><h2 id="\u63A7\u5236\u6846\u67B6\u4EE3\u7801\u4F53\u79EF" tabindex="-1">\u63A7\u5236\u6846\u67B6\u4EE3\u7801\u4F53\u79EF <a class="header-anchor" href="#\u63A7\u5236\u6846\u67B6\u4EE3\u7801\u4F53\u79EF" aria-hidden="true">#</a></h2><p>\u901A\u8FC7 <code>__DEV__</code> \u5E38\u91CF\uFF0C\u5C06\u5F00\u53D1\u73AF\u5883\u548C\u751F\u4EA7\u73AF\u5883\u533A\u5206\u3002\u505A\u5230\u4E86\u5728\u5F00\u53D1\u73AF\u5883\u4E3A\u7528\u6237\u63D0\u4F9B\u53CB\u597D\u7684\u5F00\u53D1\u4F53\u9A8C\u7684\u540C\u65F6\uFF0C\u4E0D\u589E\u52A0\u751F\u4EA7\u73AF\u5883\u4EE3\u7801\u3002</p><h2 id="\u826F\u597D\u7684-tree-shaking" tabindex="-1">\u826F\u597D\u7684 Tree-Shaking <a class="header-anchor" href="#\u826F\u597D\u7684-tree-shaking" aria-hidden="true">#</a></h2><ol><li>\u8981\u60F3\u5B9E\u73B0 Tree-Shaking\uFF0C\u4EE3\u7801\u5FC5\u987B\u4F7F ESM \u6A21\u5757\u3002</li><li>\u5F53\u51FD\u6570\u8C03\u7528\u65F6\u4F1A\u5BF9\u5916\u90E8\u4EA7\u751F\u5F71\u54CD\uFF08\u4F8B\u5982\u4FEE\u6539\u4E86\u5168\u5C40\u53D8\u91CF\uFF09\u8FD9\u79CD\u60C5\u51B5\u65E0\u6CD5\u5B9E\u73B0 Tree-Shaking\uFF0C\u6211\u4EEC\u6210\u4E3A\u6709\u526F\u4F5C\u7528\u3002\u53EF\u4EE5\u901A\u8FC7\u6CE8\u91CA <code>/*#__PURE__*/</code> \u6765\u544A\u8BC9\u6253\u5305\u5DE5\u5177\uFF0C\u4EE3\u7801\u4E0D\u4F1A\u4EA7\u751F\u526F\u4F5C\u7528\u3002</li></ol><h2 id="\u8F93\u51FA\u7684\u6784\u5EFA\u4EA7\u7269" tabindex="-1">\u8F93\u51FA\u7684\u6784\u5EFA\u4EA7\u7269 <a class="header-anchor" href="#\u8F93\u51FA\u7684\u6784\u5EFA\u4EA7\u7269" aria-hidden="true">#</a></h2><ol><li>\u5728\u6D4F\u89C8\u5668\u4E2D\u4F7F\u7528 iife \u6A21\u5F0F</li><li>\u652F\u6301 ESM \u7684\u6D4F\u89C8\u5668\u53EF\u4EE5\u4F7F\u7528 vue.esm-browser.js</li><li>\u9879\u76EE\u4E2D\u4F7F\u7528 vue.esm-bundler.js</li></ol><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>\u540C\u6837\u90FD\u662F esm -browser \u548C -bundler \u7684\u533A\u522B\uFF1F</p><ul><li>browser \u4F1A\u5C06 <code>__DEV___</code> \u8BBE\u7F6E\u4E3A <code>false</code></li><li>bundler \u4F1A\u5C06<code>__DEV___</code> \u8BBE\u7F6E\u4E3A <code>p<wbr>rocess.env.NODE_ENV !== &#39;production&#39;</code>\uFF0C\u4F7F\u5176\u4EA4\u7ED9\u9879\u76EE\u4E2D\u7684\u6253\u5305\u5DE5\u5177\u51B3\u5B9A\u5982\u4F55\u6253\u5305\u3002</li></ul></div><ol start="4"><li>\u670D\u52A1\u7AEF\u6E32\u67D3\u4F7F\u7528 CommonJS \u89C4\u8303\uFF0Ccjs</li></ol><h2 id="\u7279\u6027\u5F00\u5173" tabindex="-1">\u7279\u6027\u5F00\u5173 <a class="header-anchor" href="#\u7279\u6027\u5F00\u5173" aria-hidden="true">#</a></h2><p>Vue \u63D0\u4F9B\u4E86\u8BF8\u591A\u7279\u6027\u5E76\u63D0\u4F9B\u4E86\u5BF9\u5E94\u7684\u7279\u6027\u5F00\u5173\uFF0C\u5F00\u53D1\u8005\u53EF\u4EE5\u6709\u9009\u62E9\u7684\u53BB\u53D6\u820D\u8FD9\u4E9B\u7279\u6027\u3002</p><p>Vue \u4E3A\u4E86\u517C\u5BB9 Vue2 \u7684 options-api\uFF0C\u63D0\u4F9B\u4E86\u76F8\u5173\u7684\u4EE3\u7801\u652F\u6301\uFF0C\u5982\u679C\u5F00\u53D1\u8005\u660E\u786E\u77E5\u5230\u4EE3\u7801\u4E0D\u4F1A\u4F7F\u7528\u9009\u9879\u5F0F API\uFF0C\u90A3\u4E48\u53EF\u4EE5\u5C06\u5176 Tree-Shaking\uFF0C\u4ECE\u800C\u51CF\u5C11\u8D44\u6E90\u4F53\u79EF\u3002</p><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#7F848E;">// \u501F\u52A9 webpack.DefinePlugin \u914D\u7F6E</span></span>
<span class="line"><span style="color:#C678DD;">new</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">webpack</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">DefinePlugin</span><span style="color:#ABB2BF;">({</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#E06C75;">_<wbr>_VUE_OPTIONS_API__</span><span style="color:#ABB2BF;">: </span><span style="color:#E5C07B;">JSON</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">stringify</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">false</span><span style="color:#ABB2BF;">) </span><span style="color:#7F848E;">// \u5F00\u542F\u6216\u8005\u5173\u95ED\u7279\u6027</span></span>
<span class="line"><span style="color:#ABB2BF;">});</span></span>
<span class="line"></span></code></pre></div><h2 id="\u9519\u8BEF\u5904\u7406" tabindex="-1">\u9519\u8BEF\u5904\u7406 <a class="header-anchor" href="#\u9519\u8BEF\u5904\u7406" aria-hidden="true">#</a></h2><p>\u4E3A\u4E86\u63D0\u9AD8\u7528\u6237\u4EE3\u7801\u7684\u5065\u58EE\u6027\u548C\u7B80\u6D01\u6027\uFF0CVue \u63D0\u4F9B\u4E86\u7EDF\u4E00\u7684\u9519\u8BEF\u5904\u7406\u51FD\u6570\u3002</p><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#C678DD;">let</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">handlerError</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">null</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">export</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">default</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#61AFEF;">foo</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">fn</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#61AFEF;">callWithErrorHandling</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">fn</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">  },</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#7F848E;">// \u7528\u6237\u8C03\u7528\u8BE5\u65B9\u6CD5\u6CE8\u518C\u9519\u8BEF\u56DE\u8C03</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#61AFEF;">registerErrorHandling</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">fn</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">handlerError</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">fn</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">  }</span></span>
<span class="line"><span style="color:#ABB2BF;">};</span></span>
<span class="line"><span style="color:#7F848E;">// \u6E90\u7801\u91CC\u4E5F\u662F\u7528\u7684\u8BE5\u51FD\u6570\u540D</span></span>
<span class="line"><span style="color:#C678DD;">function</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">callWithErrorHandling</span><span style="color:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#C678DD;">try</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">fn</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">&amp;&amp;</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">fn</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;">  } </span><span style="color:#C678DD;">catch</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;">e</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#7F848E;">// \u5C06\u6355\u83B7\u5230\u7684\u9519\u8BEF\u4F20\u9012\u7ED9\u7528\u6237\uFF0C\u7528\u6237\u53EF\u4EE5\u9009\u62E9\u5FFD\u7565 \u6216\u8005\u5C06\u5176\u4E0A\u62A5\u7ED9\u9519\u8BEF\u76D1\u63A7\u7CFB\u7EDF</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#61AFEF;">handlerError</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">e</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">  }</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="\u826F\u597D\u7684-ts-\u652F\u6301" tabindex="-1">\u826F\u597D\u7684 TS \u652F\u6301 <a class="header-anchor" href="#\u826F\u597D\u7684-ts-\u652F\u6301" aria-hidden="true">#</a></h2>`,21),p=[o];function r(c,t,i,B,d,y){return a(),n("div",null,p)}const A=s(e,[["render",r]]);export{F as __pageData,A as default};
