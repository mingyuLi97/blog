import{_ as e,o as t,c as r,a as c}from"./app.519eb8d8.js";const _=JSON.parse('{"title":"watcher","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u6E32\u67D3 - renderWatcher","slug":"\u6E32\u67D3-renderwatcher","link":"#\u6E32\u67D3-renderwatcher","children":[]},{"level":2,"title":"\u8BA1\u7B97\u5C5E\u6027 - computedWatcher","slug":"\u8BA1\u7B97\u5C5E\u6027-computedwatcher","link":"#\u8BA1\u7B97\u5C5E\u6027-computedwatcher","children":[]},{"level":2,"title":"\u7528\u6237 Watch - userWatcher","slug":"\u7528\u6237-watch-userwatcher","link":"#\u7528\u6237-watch-userwatcher","children":[]}],"relativePath":"knowledge/vue/watcher.md"}'),a={name:"knowledge/vue/watcher.md"},d=c('<h1 id="watcher" tabindex="-1">watcher <a class="header-anchor" href="#watcher" aria-hidden="true">#</a></h1><h2 id="\u6E32\u67D3-renderwatcher" tabindex="-1">\u6E32\u67D3 - renderWatcher <a class="header-anchor" href="#\u6E32\u67D3-renderwatcher" aria-hidden="true">#</a></h2><p>\u6570\u636E\u66F4\u65B0 -&gt; \u8C03\u7528\u89C6\u56FE\u6E32\u67D3\u7684\u65B9\u6CD5(<code>vm._update(vm._render())</code>)</p><ol><li>renderWatcher \u521D\u59CB\u5316\u65F6\u5019\u4F20\u5165\u7684 <code>{ lazy: false }</code>, \u5373\u521D\u59CB\u5316\u65F6\u5019\u7ACB\u5373\u89E6\u53D1 <code>this.get()</code> \u65B9\u6CD5</li><li>\u65B9\u6CD5\u8C03\u7528\u7684\u65F6\u5019\u8BBF\u95EE\u5230\u5C5E\u6027\u7684\u503C\uFF0C\u89E6\u53D1\u5C5E\u6027\u88AB\u52AB\u6301\u7684 <code>getter</code> \u65B9\u6CD5\uFF08\u54CD\u5E94\u5F0F\uFF09</li><li>\u6BCF\u4E2A\u5C5E\u6027\u7684 dep \u8FDB\u884C\u4F9D\u8D56\u6536\u96C6\uFF0C\u5C06 watcher \u52A0\u5165\u5230\u81EA\u5DF1\u7684 subs</li><li>\u5F53\u5C5E\u6027\u53D1\u751F\u53D8\u6362\u65F6\uFF0C\u89E6\u53D1 <code>setter</code></li><li>\u6267\u884C <code>dep.notify()</code> \u5C06\u6240\u6709\u7684 watcher \u6267\u884C\u66F4\u65B0\uFF0C\u4ECE\u800C\u5237\u65B0\u89C6\u56FE</li></ol><h2 id="\u8BA1\u7B97\u5C5E\u6027-computedwatcher" tabindex="-1">\u8BA1\u7B97\u5C5E\u6027 - computedWatcher <a class="header-anchor" href="#\u8BA1\u7B97\u5C5E\u6027-computedwatcher" aria-hidden="true">#</a></h2><p>\u6570\u636E\u66F4\u65B0 -&gt; \u89E6\u53D1\u8BA1\u7B97\u5C5E\u6027\u53D8\u66F4 -&gt; \u89E6\u53D1\u89C6\u56FE\u6E32\u67D3</p><ol><li>\u521D\u59CB\u5316\u8BA1\u7B97\u5C5E\u6027\uFF0C\u4E3A\u6BCF\u4E2A\u5C5E\u6027\u521B\u5EFA\u4E00\u4E2A watcher, \u521D\u59CB\u5316\u65F6\u5019\u4F20\u5165\u7684 <code>{ lazy: true, dirty: true }</code>\uFF0C\u56E0\u4E3A <code>lazy: true</code>, \u4E0D\u4F1A\u7ACB\u5373\u8C03\u7528 watcher \u7684 <code>get()</code> \u65B9\u6CD5</li><li>\u52AB\u6301\u8BA1\u7B97\u5C5E\u6027\u7684 getter</li><li>\u5F53\u88AB\u8BBF\u95EE\u7684\u65F6\u5019\u89E6\u53D1\uFF0C\u5C06 computedWatcher \u63A8\u5165\u5230 watcherQueue\uFF0C\u7136\u540E\u8BBF\u95EE\u5230\u8BA1\u7B97\u5C5E\u6027\u4E2D\u7684\u54CD\u5E94\u5F0F\u6570\u636E\uFF08data \u4E0A\u7684 firstName\uFF09</li><li>\u8BBF\u95EE\u5230\u54CD\u5E94\u5F0F\u6570\u636E\uFF0C\u89E6\u53D1\u5176 getter\uFF0C\u54CD\u5E94\u5F0F\u6570\u636E\u4F9D\u8D56\u6536\u96C6\uFF0C\u6B64\u65F6\u4F1A\u6536\u96C6\u5230 computedWatcher \u548C renderWatcher \u4E24\u4E2A watcher</li><li>\u5F53\u8BA1\u7B97\u5C5E\u6027\u5185\u7684\u72B6\u6001\u53D1\u751F\u53D8\u66F4\u89E6\u53D1 set \u540E\uFF0C\u9996\u5148\u901A\u77E5 computed \u9700\u8981\u8FDB\u884C\u91CD\u65B0\u8BA1\u7B97\uFF0C\u7136\u540E\u901A\u77E5\u5230\u89C6\u56FE\u6267\u884C\u6E32\u67D3\uFF0C\u518D\u6E32\u67D3\u4E2D\u4F1A\u8BBF\u95EE\u5230 computed \u8BA1\u7B97\u540E\u7684\u503C\uFF0C\u6700\u540E\u6E32\u67D3\u5230\u9875\u9762\u3002</li></ol><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>\u8BA1\u7B97\u5C5E\u6027\u6BCF\u6B21\u53D6\u7684\u90FD\u662F\u7F13\u5B58\u7684\u503C\uFF0C\u5982\u679C\u4F9D\u8D56\u7684\u54CD\u5E94\u5F0F\u6570\u636E\u6539\u53D8\uFF0C\u4F1A\u5148\u5C06 computedWatcher \u7684 dirty \u8BBE\u7F6E\u4E3A <code>true</code>, \u66F4\u65B0\u89C6\u56FE\u7684\u65F6\u5019\u53D1\u73B0 <code>dirty === true</code> \u5C31\u4F1A\u91CD\u65B0\u53D6\u503C</p></div><h2 id="\u7528\u6237-watch-userwatcher" tabindex="-1">\u7528\u6237 Watch - userWatcher <a class="header-anchor" href="#\u7528\u6237-watch-userwatcher" aria-hidden="true">#</a></h2><p>\u6570\u636E\u66F4\u65B0 -&gt; \u89E6\u53D1\u7528\u6237\u6CE8\u518C\u7684\u56DE\u8C03</p><ol><li>\u521D\u59CB\u5316\u8BA1\u7B97\u5C5E\u6027\uFF0C\u4E3A\u6BCF\u4E2A\u5C5E\u6027\u521B\u5EFA\u4E00\u4E2A watcher, \u521D\u59CB\u5316\u65F6\u5019\u4F20\u5165\u7684 <code>{ lazy: false, user: true }</code> \u5E76\u4F20\u5165\u56DE\u8C03\u51FD\u6570, \u5373\u521D\u59CB\u5316\u65F6\u5019\u7ACB\u5373\u89E6\u53D1 <code>this.get()</code> \u65B9\u6CD5</li><li>\u5F53 watcher \u66F4\u65B0\u65F6\uFF0C\u6267\u884C\u56DE\u8C03</li></ol>',11),h=[d];function o(l,i,s,n,u,p){return t(),r("div",null,h)}const m=e(a,[["render",o]]);export{_ as __pageData,m as default};
