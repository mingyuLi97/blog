import{_ as s,o as a,c as l,Q as n}from"./chunks/framework.fa80b722.js";const A=JSON.parse('{"title":"v-model","description":"","frontmatter":{},"headers":[],"relativePath":"knowledge/vue/v-model.md","filePath":"knowledge/vue/v-model.md"}'),o={name:"knowledge/vue/v-model.md"},p=n(`<h1 id="v-model" tabindex="-1">v-model <a class="header-anchor" href="#v-model" aria-label="Permalink to &quot;v-model&quot;">​</a></h1><p><code>v-model</code> 本质上是语法糖。它负责监听用户的输入事件以更新数据，并对一些极端场景进行一些特殊处理。</p><h2 id="vue2" tabindex="-1">Vue2 <a class="header-anchor" href="#vue2" aria-label="Permalink to &quot;Vue2&quot;">​</a></h2><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">my-input</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">v-model</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;foo&quot;</span><span style="color:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">&lt;!-- 等价于 --&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">my-input</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">:value</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;foo&quot;</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">@input</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;foo = $event&quot;</span><span style="color:#ABB2BF;"> /&gt;</span></span></code></pre></div><p>组件内自定义 v-model 的 prop / event</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#C678DD;">export</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">default</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#E06C75;">model</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">prop</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;value&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// 默认为 value</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">event</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;input&#39;</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">// 默认为 input</span></span>
<span class="line"><span style="color:#ABB2BF;">  }</span></span>
<span class="line"><span style="color:#ABB2BF;">};</span></span></code></pre></div><h2 id="vue3" tabindex="-1">Vue3 <a class="header-anchor" href="#vue3" aria-label="Permalink to &quot;Vue3&quot;">​</a></h2><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">my-input</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">v-model</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;msg&quot;</span><span style="color:#ABB2BF;">&gt;&lt;/</span><span style="color:#E06C75;">my-input</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">&lt;!-- 等价于 --&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">my-input</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">:modelValue</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;msg&quot;</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">@update:modelValue</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;msg = $event&quot;</span><span style="color:#ABB2BF;">&gt;&lt;/</span><span style="color:#E06C75;">my-input</span><span style="color:#ABB2BF;">&gt;</span></span></code></pre></div><h4 id="_1-修改了默认的-prop-和-event" tabindex="-1">1. 修改了默认的 prop 和 event <a class="header-anchor" href="#_1-修改了默认的-prop-和-event" aria-label="Permalink to &quot;1. 修改了默认的 prop 和 event&quot;">​</a></h4><p><code>value</code> =&gt; <code>modelValue</code></p><p><code>input</code> =&gt; <code>update:modelValue</code></p><h4 id="_2-废弃了-model-配置项" tabindex="-1">2. 废弃了 model 配置项 <a class="header-anchor" href="#_2-废弃了-model-配置项" aria-label="Permalink to &quot;2. 废弃了 model 配置项&quot;">​</a></h4><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#7F848E;font-style:italic;">&lt;!-- 定义 prop 需要 v-model:prop --&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">my-input</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">v-model:title</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;msg&quot;</span><span style="color:#ABB2BF;">&gt;&lt;/</span><span style="color:#E06C75;">my-input</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">&lt;!-- 等价于 --&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">my-input</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">:title</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;msg&quot;</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">@update:title</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;msg = $event&quot;</span><span style="color:#ABB2BF;">&gt;&lt;/</span><span style="color:#E06C75;">my-input</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">&lt;!-- 支持多个 v-model --&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">my-input</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">v-model:title</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;msg&quot;</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">v-model:desc</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;desc&quot;</span><span style="color:#ABB2BF;">&gt;&lt;/</span><span style="color:#E06C75;">my-input</span><span style="color:#ABB2BF;">&gt;</span></span></code></pre></div>`,13),e=[p];function t(c,r,B,y,i,d){return a(),l("div",null,e)}const m=s(o,[["render",t]]);export{A as __pageData,m as default};
