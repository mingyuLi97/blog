import{o as E,c as m,z as r,b as c,R as B}from"./chunks/framework.35669211.js";Promise.all=o=>{const n=[];let a=0;return new Promise((l,p)=>{o.forEach((s,e)=>{Promise.resolve(s).then(t=>{n[e]=t,++a===o.length&&l(n)}).catch(p)})})};Promise.race=o=>new Promise((n,a)=>{o.forEach(l=>Promise.resolve(l).then(n,a))});Promise.any=o=>{const n=[];let a=0;return new Promise((l,p)=>{o.forEach((s,e)=>{Promise.resolve(s).then(l,t=>{n[e]=t,++a===o.length&&p(new AggregateError(n))})})})};Promise.allSettled=o=>{const n=[];let a=0;return new Promise((l,p)=>{o.forEach((s,e)=>{Promise.resolve(s).then(t=>{n.push({status:"fulfilled",value:t})}).catch(t=>{n.push({status:"rejected",reason:t})}).finally(t=>{++a===o.length&&l(n)})})})};function y(){const o=Promise.resolve("p1"),n=new Promise((s,e)=>{setTimeout(()=>{s("p2 延时一秒")},1e3)}),a=new Promise((s,e)=>{setTimeout(()=>{s("p3 延时两秒")},2e3)}),l=Promise.reject("p4 rejected"),p=new Promise((s,e)=>{setTimeout(()=>{e("p5 rejected 延时1.5秒")},1500)});return[o,n,a,l,p]}function i(){console.log("---------------- Promise.all ---------------------");const[o,n,a,l,p]=y();Promise.all([o,n,a]).then(s=>{console.log(s)}).catch(s=>console.log(s)),Promise.all([o,n,l]).then(s=>{console.log(s)}).catch(s=>console.log(s)),Promise.all([o,n,p]).then(s=>{console.log(s)}).catch(s=>console.log(s)),Promise.all([o,l,p]).then(s=>{console.log(s)}).catch(s=>console.log(s))}function F(){console.log("---------------- Promise.race ---------------------");const[o,n,a,l,p]=y();Promise.race([o,n,a]).then(s=>console.log(s)).catch(s=>console.log(s)),Promise.race([l,n,a]).then(s=>console.log(s)).catch(s=>console.log(s)),Promise.race([p,n,a]).then(s=>console.log(s)).catch(s=>console.log(s))}function A(){console.log("---------------- Promise.any ---------------------");const[o,n,a,l,p]=y();Promise.any([o,n,a]).then(s=>console.log(s)).catch(s=>console.log(s)),Promise.any([o,n,l]).then(s=>console.log(s)).catch(s=>console.log(s)),Promise.any([n,l,p]).then(s=>console.log(s)).catch(s=>console.log(s)),Promise.any([l,p]).then(s=>console.log(s)).catch(s=>console.log(s))}function C(){console.log("---------------- Promise.allSettled ---------------------");const[o,n,a,l,p]=y();Promise.allSettled([o,n,a]).then(s=>console.log(s)).catch(s=>console.log(s)),Promise.allSettled([o,n,l]).then(s=>console.log(s)).catch(s=>console.log(s)),Promise.allSettled([l,p]).then(s=>console.log(s)).catch(s=>console.log(s))}const d=B("",7),u=B("",3),P=B("",3),h=B("",3),g=B("",3),_=JSON.parse('{"title":"Promise","description":"","frontmatter":{},"headers":[],"relativePath":"knowledge/js/promise.md"}'),f={name:"knowledge/js/promise.md"},v=Object.assign(f,{setup(o){return(n,a)=>(E(),m("div",null,[d,r("p",null,[r("button",{class:"brand-c-button",onClick:a[0]||(a[0]=(...l)=>c(i)&&c(i)(...l))},"runPromiseAll")]),u,r("p",null,[r("button",{class:"brand-c-button",onClick:a[1]||(a[1]=(...l)=>c(F)&&c(F)(...l))},"runPromiseRace")]),P,r("p",null,[r("button",{class:"brand-c-button",onClick:a[2]||(a[2]=(...l)=>c(A)&&c(A)(...l))},"runPromiseAny")]),h,r("p",null,[r("button",{class:"brand-c-button",onClick:a[3]||(a[3]=(...l)=>c(C)&&c(C)(...l))},"runPromiseAllSettled")]),g]))}});export{_ as __pageData,v as default};
